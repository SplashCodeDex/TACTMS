import{c as C,R as A,r as c,A as D,j as e,S as w,a as R,B as o,C as M,X as P,I as B,T as $}from"./index-649KBKwn.js";/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=C("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=C("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),X=A.memo(({favorites:d,favoritesSearchTerm:n,setFavoritesSearchTerm:j,loadFavorite:z,deleteFavorite:F,viewFavoriteDetails:k,updateFavoriteName:E,addToast:N})=>{const[x,b]=c.useState(n),[m,y]=c.useState(null),[u,h]=c.useState("");c.useEffect(()=>{const a=setTimeout(()=>{j(x)},300);return()=>clearTimeout(a)},[x,j]),c.useEffect(()=>{b(n)},[n]);const I=a=>{y(a.id),h(a.name)},p=()=>{y(null),h("")},v=()=>{if(m){if(!u.trim()){N("Favorite name cannot be empty.","error");return}E(m,u),N("Favorite renamed successfully.","success"),p()}},S=a=>{a.key==="Enter"?v():a.key==="Escape"&&p()},f=c.useMemo(()=>{const a=n.toLowerCase(),i=d.filter(s=>!s||!s.assemblyName?!1:a?s.name&&s.name.toLowerCase().includes(a)||s.originalFileName&&s.originalFileName.toLowerCase().includes(a)||s.assemblyName.toLowerCase().includes(a):!0).sort((s,r)=>r.timestamp-s.timestamp),t=new Map;new Set([...D,...i.map(s=>s.assemblyName)]).forEach(s=>{t.set(s,[])}),i.forEach(s=>{const r=t.get(s.assemblyName);r&&r.push(s)});const l=Array.from(t.entries());return(n?l.filter(([s,r])=>r.length>0):l).sort((s,r)=>(s[0]||"").localeCompare(r[0]||""))},[d,n]),L=f.length>0;return e.jsx("div",{className:"space-y-8",children:e.jsxs("section",{className:"content-card","aria-labelledby":"favorites-heading",children:[e.jsxs("h2",{id:"favorites-heading",className:"section-heading",children:[e.jsx(w,{size:22,className:"mr-3 icon-primary"}),"Saved Configurations & Data"]}),e.jsx("input",{type:"search",placeholder:"Search favorites by name, original file, or assembly...",value:x,onChange:a=>b(a.target.value),className:"form-input-light w-full mb-8","aria-label":"Search saved favorites"}),d.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(w,{size:52,className:"mx-auto text-[var(--text-muted)] mb-4 opacity-50"}),e.jsx("p",{className:"text-[var(--text-secondary)] text-lg",children:"No favorites found."}),e.jsx("p",{className:"text-[var(--text-muted)] text-sm mt-1",children:"Save configurations from the Processor view for easy reuse!"})]}):L?e.jsx("div",{className:"space-y-10",children:f.map(([a,i])=>n&&i.length===0?null:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gradient-primary mb-4 pb-2 border-b border-[var(--border-color)]",children:[a," Assembly"]}),i.length===0?e.jsx("p",{className:"text-sm text-center text-[var(--text-muted)] py-4",children:"No saved items for this assembly."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map(t=>{var g;return e.jsxs("div",{className:"content-card p-5 border border-[var(--border-color-light)] transition-all duration-200 card-glow-on-hover flex flex-col",children:[e.jsxs("div",{className:"flex-grow",children:[m===t.id?e.jsx("div",{className:"w-full mb-3",children:e.jsx("input",{id:`edit-fav-name-${t.id}`,type:"text",value:u,onChange:l=>h(l.target.value),onKeyDown:S,className:"form-input-light w-full text-lg py-1",autoFocus:!0,onFocus:l=>l.target.select(),"aria-label":`New name for favorite ${t.name}`})}):e.jsx("h3",{className:"font-semibold text-lg text-[var(--text-primary)] truncate mb-1.5",title:t.name,children:t.name}),e.jsxs("p",{className:"text-xs text-[var(--text-muted)] mb-0.5",children:["Original File: ",e.jsx("span",{className:"font-medium text-[var(--text-secondary)] truncate block max-w-xs",children:t.originalFileName||"N/A"})]}),e.jsxs("p",{className:"text-xs text-[var(--text-muted)] mb-1",children:["List Records: ",e.jsx("span",{className:"font-medium text-[var(--text-secondary)]",children:((g=t.titheListData)==null?void 0:g.length)||0})]}),e.jsxs("p",{className:"text-xs text-[var(--text-muted)] mb-4",children:["Saved: ",new Date(t.timestamp).toLocaleString()]})]}),e.jsx("div",{className:"flex flex-wrap gap-2.5 mt-auto pt-4 border-t border-[var(--border-color)]",children:m===t.id?e.jsxs(e.Fragment,{children:[e.jsx(o,{size:"sm",variant:"primary",onClick:v,leftIcon:e.jsx(M,{size:16}),children:"Save"}),e.jsx(o,{size:"sm",variant:"ghost",onClick:p,leftIcon:e.jsx(P,{size:16}),children:"Cancel"})]}):e.jsxs(e.Fragment,{children:[e.jsx(o,{size:"sm",variant:"primary",onClick:()=>z(t.id),leftIcon:e.jsx(q,{size:16}),children:"Load"}),e.jsx(o,{size:"sm",variant:"subtle",onClick:()=>I(t),leftIcon:e.jsx(K,{size:16}),children:"Rename"}),e.jsx(o,{size:"sm",variant:"ghost",onClick:()=>k(t),leftIcon:e.jsx(B,{size:16}),children:"Details"}),e.jsx(o,{size:"sm",variant:"danger",onClick:()=>F(t.id),leftIcon:e.jsx($,{size:16}),className:"ml-auto !bg-transparent !text-[var(--danger-text)] hover:!bg-[var(--danger-start)]/10","aria-label":`Delete favorite ${t.name}`,children:"Delete"})]})})]},t.id)})})]},a))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(R,{size:52,className:"mx-auto text-[var(--text-muted)] mb-4 opacity-50"}),e.jsx("p",{className:"text-[var(--text-secondary)] text-lg",children:"No favorites match your search."}),e.jsx("p",{className:"text-[var(--text-muted)] text-sm mt-1",children:"Try a different search term or clear the search to see all items."})]})]})})});export{X as default};
