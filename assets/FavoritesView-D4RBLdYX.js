import{c as w,R as D,u as A,r as o,A as R,j as e,S,a as T,B as c,C as M,X as P,I as B,T as $}from"./index-DMnafbQ4.js";/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=w("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=w("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),X=D.memo(()=>{const{favorites:d=[],favoritesSearchTerm:i,setFavoritesSearchTerm:v,loadFavorite:C,deleteFavorite:F,viewFavoriteDetails:z,updateFavoriteName:k,addToast:j}=A(),[x,f]=o.useState(i),[m,N]=o.useState(null),[h,u]=o.useState("");o.useEffect(()=>{const s=setTimeout(()=>{v(x)},300);return()=>clearTimeout(s)},[x,v]),o.useEffect(()=>{f(i)},[i]);const E=s=>{N(s.id),u(s.name)},p=()=>{N(null),u("")},b=()=>{if(m){if(!h.trim()){j("Favorite name cannot be empty.","error");return}k(m,h),j("Favorite renamed successfully.","success"),p()}},I=s=>{s.key==="Enter"?b():s.key==="Escape"&&p()},y=o.useMemo(()=>{const s=(i||"").toLowerCase(),n=d.filter(a=>!a||!a.assemblyName?!1:s?(a.name??"").toLowerCase().includes(s)||(a.originalFileName??"").toLowerCase().includes(s)||(a.assemblyName??"").toLowerCase().includes(s):!0).sort((a,r)=>r.timestamp-a.timestamp),t=new Map;new Set([...R,...n.map(a=>a.assemblyName)]).forEach(a=>{t.set(a,[])}),n.forEach(a=>{const r=t.get(a.assemblyName);r&&r.push(a)});const l=Array.from(t.entries());return(i?l.filter(([a,r])=>r.length>0):l).sort((a,r)=>(a[0]||"").localeCompare(r[0]||""))},[d,i]),L=y.length>0;return e.jsx("div",{className:"space-y-8",children:e.jsxs("section",{className:"content-card","aria-labelledby":"favorites-heading",children:[e.jsxs("h2",{id:"favorites-heading",className:"section-heading",children:[e.jsx(S,{size:22,className:"mr-3 icon-primary"}),"Saved Configurations & Data"]}),e.jsx("input",{type:"search",placeholder:"Search favorites by name, original file, or assembly...",value:x,onChange:s=>f(s.target.value),className:"form-input-light w-full mb-8","aria-label":"Search saved favorites"}),d.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(S,{size:52,className:"mx-auto text-[var(--text-muted)] mb-4 opacity-50"}),e.jsx("p",{className:"text-[var(--text-secondary)] text-lg",children:"No favorites found."}),e.jsx("p",{className:"text-[var(--text-muted)] text-sm mt-1",children:"Save configurations from the Processor view for easy reuse!"})]}):L?e.jsx("div",{className:"space-y-10",children:y.map(([s,n])=>i&&n.length===0?null:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gradient-primary mb-4 pb-2 border-b border-[var(--border-color)]",children:[s," Assembly"]}),n.length===0?e.jsx("p",{className:"text-sm text-center text-[var(--text-muted)] py-4",children:"No saved items for this assembly."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map(t=>{var g;return e.jsxs("div",{className:"content-card p-5 border border-[var(--border-color-light)] transition-all duration-200 card-glow-on-hover flex flex-col",children:[e.jsxs("div",{className:"flex-grow",children:[m===t.id?e.jsx("div",{className:"w-full mb-3",children:e.jsx("input",{id:`edit-fav-name-${t.id}`,type:"text",value:h,onChange:l=>u(l.target.value),onKeyDown:I,className:"form-input-light w-full text-lg py-1",autoFocus:!0,onFocus:l=>l.target.select(),"aria-label":`New name for favorite ${t.name}`})}):e.jsx("h3",{className:"font-semibold text-lg text-[var(--text-primary)] truncate mb-1.5",title:t.name,children:t.name}),e.jsxs("p",{className:"text-xs text-[var(--text-muted)] mb-0.5",children:["Original File:"," ",e.jsx("span",{className:"font-medium text-[var(--text-secondary)] truncate block max-w-xs",children:t.originalFileName||"N/A"})]}),e.jsxs("p",{className:"text-xs text-[var(--text-muted)] mb-1",children:["List Records:"," ",e.jsx("span",{className:"font-medium text-[var(--text-secondary)]",children:((g=t.titheListData)==null?void 0:g.length)||0})]}),e.jsxs("p",{className:"text-xs text-[var(--text-muted)] mb-4",children:["Saved:"," ",new Date(t.timestamp).toLocaleString()]})]}),e.jsx("div",{className:"flex flex-wrap gap-2.5 mt-auto pt-4 border-t border-[var(--border-color)]",children:m===t.id?e.jsxs(e.Fragment,{children:[e.jsx(c,{size:"sm",variant:"primary",onClick:b,leftIcon:e.jsx(M,{size:16}),children:"Save"}),e.jsx(c,{size:"sm",variant:"ghost",onClick:p,leftIcon:e.jsx(P,{size:16}),children:"Cancel"})]}):e.jsxs(e.Fragment,{children:[e.jsx(c,{size:"sm",variant:"primary",onClick:()=>C(t.id),leftIcon:e.jsx(O,{size:16}),children:"Load"}),e.jsx(c,{size:"sm",variant:"subtle",onClick:()=>E(t),leftIcon:e.jsx(K,{size:16}),children:"Rename"}),e.jsx(c,{size:"sm",variant:"ghost",onClick:()=>z(t),leftIcon:e.jsx(B,{size:16}),children:"Details"}),e.jsx(c,{size:"sm",variant:"danger",onClick:()=>F(t.id),leftIcon:e.jsx($,{size:16}),className:"ml-auto !bg-transparent !text-[var(--danger-text)] hover:!bg-[var(--danger-start)]/10","aria-label":`Delete favorite ${t.name}`,children:"Delete"})]})})]},t.id)})})]},s))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(T,{size:52,className:"mx-auto text-[var(--text-muted)] mb-4 opacity-50"}),e.jsx("p",{className:"text-[var(--text-secondary)] text-lg",children:"No favorites match your search."}),e.jsx("p",{className:"text-[var(--text-muted)] text-sm mt-1",children:"Try a different search term or clear the search to see all items."})]})]})})});export{X as default};
